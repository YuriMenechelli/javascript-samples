<html>
<body>
<canvas id="tiledCanvas" width="800" height="700">
<script src="easeljs-0.6.1.min.js"></script>

<script>
	var spriteSheet;
	// @todo checar escadas
	var config = {
		 horizontal: 360,
		 vertical: 200,
		 gravity: 800,
		 jump: 1600
	};

	var stage = new createjs.Stage("tiledCanvas");
	var main = new createjs.Container();

	var p1 = {name:'p1_spritesheet.png',
		width:69, height:96, vx: 0, vy: 0,
		gravity: config.gravity,
		jump_energy: 0,
		onStair: false,
		onGround: false,
		spritesheet: null};
	
	stage.addChild(main);
	
	var loading = { 
		map:false, character: false, test: true,
		ready: function(){ return this.map && this.character && this.test; }
	};
	
</script>

<script src="map.js"></script>
<script src="map-builder.js"></script>
<script src="char-builder.js"></script>
<script src="char-move.js"></script>

<script>
	var ticker = createjs.Ticker.addEventListener("tick", handleTick);
	//createjs.Ticker.setFPS(60);
	
    function handleTick(e) {
    	if( loading.ready() ){
			e.delta = e.delta / 1000;
		
			checkGround(e);
			checkWall(e);
			stage.update(e);
    	}
    }   

    
</script>
</body>
</html>