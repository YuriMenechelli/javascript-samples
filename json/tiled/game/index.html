<html>
<body>
<canvas id="tiledCanvas" width="800" height="700">
<script src="easeljs-0.6.1.min.js"></script>

<script>
	var spriteSheet;

	// @todo checar escadas
	var config = {
		 horizontal: 360,
		 vertical: 200,
		 gravity: 800,
		 jump: 1600
	};

	var stage = new createjs.Stage("tiledCanvas");
	var main = new createjs.Container();

	var p1 = {name:'p1_spritesheet.png',
		width:69, height:96, vx: 0, vy: 0,
		gravity: config.gravity,
		jump_energy: 0,
		onStair: false,
		onGround: false,
		spritesheet: null};
	
	stage.addChild(main);
	
</script>

<script src="map.js"></script>
<script src="map-builder.js"></script>
<script src="char-builder.js"></script>
<script src="char-move.js"></script>

<script>

	var ticker = null;
	
	// inicia chamadas em sequencia : map -> char -> init
	initMap();

	function init(){
		console.debug('init');

		ticker = createjs.Ticker.addEventListener("tick", handleTick);
	
		window.addEventListener('keydown', teclado, true );
		window.addEventListener('keyup', tecladoStop, true );
	}

	
    function handleTick(e) {
		e.delta = e.delta / 1000;
	
		checkGround(e);
		checkWall(e);
		stage.update(e);
    }   
    
</script>
</body>
</html>